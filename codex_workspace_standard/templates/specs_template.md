# Codex Specs Template (Requirements → Design → Tasks)
> Adapted from the Kiro Specs article. コピペして案件固有の内容を埋めた後、Codexに投げてください。

## 1. Requirements — 何を作るか
- **背景 / ゴール:**
- **非ゴール:**
- **制約:** (デバイス、規格、安全基準など)

### ユーザーストーリー
| As a | I want to | So that |
|------|-----------|---------|
|      |           |         |
|      |           |         |

### 受け入れ基準（EARSフォーマット）
| When (条件) | The system shall (振る舞い) | With/And/But (補足) |
|-------------|---------------------------|--------------------|
|             |                           |                    |

## 2. Design — どう作るか
### アーキテクチャ
- **フロント/表示:** (UI構成、主要コンポーネントとパス)
- **バックエンド/制御:** (CPU/PLC、ミドルウェア、通信プロトコル)
- **データ/永続化:** (DB、メモリ、ログ構造)
- **セキュリティ/IEC62443:** (Pilot以降に必要な防護層、アクセス制御、SBOM連携)
- **マイクロサービス分割:** (サービス境界、依存、運用方針)

### 技術方針
- 認証/権限制御:
- 例外/エラー処理ルール:
- テレメトリ/引用/根拠提示の方法:

### API / インターフェース
| ID | Endpoint / Interface | Request | Response / Data Shape | 備考 |
|----|----------------------|---------|------------------------|------|

## 3. Implementation — タスク分解
### 実装タスクリスト
- [ ] (例) `HMI/LoginForm` コンポーネント実装
- [ ] 

### テスト
- [ ] 単体
- [ ] 統合
- [ ] エンドツーエンド

### ドキュメント/チェックリスト
- [ ] 仕様更新 (requirements.md)
- [ ] 設計反映 (design.md)
- [ ] タスク完了報告
- [ ] SBOM更新 (PoC/Pilot/実機/製品それぞれ)
- [ ] マニュアル作成（ユーザー向け / オペレーター向け）
- [ ] 負荷テスト自動化スクリプトとレポート

## Codexへの渡し方
1. 上記を`specs/<feature>/requirements.md`等に保存。
2. Codexチャットに「`specs/<feature>`を参照して実装」と伝える。
3. 作業後は`tasks.md`のチェックボックスを更新して進捗共有。
